---
import Section from "../Section.astro"
import type { Education } from "@/cv"

const { education, title } = Astro.props as {
    education: Education[]
    title: string
}
---

<Section title={title ? title : "EducaciÃ³n"}>
    <ul class="flex flex-col gap-2">
        {
            education.map(({ institution, startDate, endDate, area }) => {
                //const startYear = new Date(startDate).getFullYear()
                const endYear =
                    endDate != null
                        ? new Date(endDate).getFullYear()
                        : "En curso"
                //const years = `${startYear} - ${endYear}`

                return (
                    <li>
                        <article class="rounded-lg bg-card text-card-foreground">
                            <header class="flex items-center justify-between gap-x-2 text-base">
                                <div class="">
                                    <h3 class="font-semibold leading-none">
                                        {institution}
                                    </h3>
                                </div>

                                <time class="text-xs">{endYear}</time>
                            </header>

                            <footer>
                                <p class="">{area}</p>
                            </footer>
                        </article>
                    </li>
                )
            })
        }
    </ul>
</Section>
